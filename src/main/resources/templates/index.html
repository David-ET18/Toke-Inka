<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:insert="~{_layout :: html(content=~{::content})}">

<!-- Ya no hay etiqueta <body> aquí. El layout la proporciona. -->

<!-- Define el bloque de contenido que se pasará a la plantilla _layout -->
<h2>Bienvenido a toke Inka</h2>
<th:block th:fragment="content">
  <div id="carouselExample" class="carousel slide">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img th:src="@{/images/1_carrusel.png}" alt="...">
      </div>
      <div class="carousel-item">
        <img th:src="@{/images/2_carrusel.png}" alt="...">
      </div>
      <div class="carousel-item">
        <img th:src="@{/images/3_carrusel.png}" alt="...">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
  <!-- Banner de Bienvenida -->
  <div id="welcome-banner" class="container-Bienvenida-mssg">
    <marquee scrollamount="10" class="container">
      <h1 class="Bienvenido-MSSG">Bienvenido a Toke Inca</h1>
      <p class="Bienvenida-parrafo">La moda que inspira, el estilo que te define. Descubre nuestras últimas
        colecciones.</p>
    </marquee>
  </div>

  <div class="sub-main">
    <div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title text-brown" id="videoModalLabel">Videeo de Bienvenido</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body p-0">
            <!-- Video (puede ser de archivo local o de YouTube embebido) -->
            <div class="ratio ratio-16x9">
              <!-- Para archivo local -->

              <iframe width="928" height="522" src="https://www.youtube.com/embed/ngii7wwXSvg"
                title="Video Promocional para Tienda de Moda" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Alerta de pedido exitoso -->
    <div th:if="${pedidoExitoso}" class="alert alert-success" role="alert" th:text="${pedidoExitoso}"></div>

    <div class="viewProductos">
      <!-- Título de la Sección de Productos -->
      <h2 id="product-section-title">Nuestros Productos</h2>
      <br>
      <!-- Contenedor de la Lista de Productos -->
      <div id="product-list-container" class="container-products">
        <div class="col" th:each="producto : ${productos}">
          <div class="product-card">
            <div class="container-img">
              <img th:src="${producto.urlImagen}" class="img-prod" alt="Imagen de producto">
            </div>
            <div class="card-body">
              <h5 class="card-title" th:text="${producto.nombre}">Nombre Producto</h5>
              <p class="card-text text-muted" th:text="${producto.nombreCategoria}">Categoría</p>
              <p class="card-text fs-5 fw-bold"
                th:text="|S/ ${#numbers.formatDecimal(producto.precio, 1, 'COMMA', 2, 'POINT')}|">S/ 0.00</p>
            </div>
            <div class="card-footer">
              <a th:href="@{/producto/{id}(id=${producto.id})}" class="btn-detalle">Ver Detalles</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</th:block>

</html>